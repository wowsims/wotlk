{"version":3,"file":"sim-36a42304.chunk.js","sources":["../../../ui/tank_deathknight/inputs.ts","../../../ui/tank_deathknight/presets.ts","../../../ui/tank_deathknight/sim.ts"],"sourcesContent":["import { Spec } from '../core/proto/common.js';\n\nimport {\n\tTankDeathknight_Rotation_OptimizationSetting as OptimizationSetting,\n\tTankDeathknight_Rotation_Opener as Opener,\n\tTankDeathknight_Rotation_BloodSpell as BloodSpell,\n\tTankDeathknight_Rotation_Presence as Presence,\n\tTankDeathknight_Rotation_BloodTapPrio as BloodTapPrio,\n} from '../core/proto/deathknight.js';\n\n\nimport * as InputHelpers from '../core/components/input_helpers.js';\nimport { Player } from '../core/player';\nimport { TypedEvent } from '../core/typed_event';\n\n// Configuration for spec-specific UI elements on the settings tab.\n// These don't need to be in a separate file but it keeps things cleaner.\n\nexport const StartingRunicPower = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecTankDeathknight>({\n\tfieldName: 'startingRunicPower',\n\tlabel: 'Starting Runic Power',\n\tlabelTooltip: 'Initial RP at the start of each iteration.',\n})\n\nexport const DefensiveCdDelay = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecTankDeathknight>({\n\tfieldName: 'defensiveDelay',\n\tlabel: 'Defensives Delay',\n\tlabelTooltip: 'Minimum delay between using more defensive cooldowns.',\n})\n\nexport const TankDeathKnightRotationConfig = {\n\tinputs: [\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecTankDeathknight, Presence>({\n\t\t\tfieldName: 'presence',\n\t\t\tlabel: 'Presence',\n\t\t\tlabelTooltip: 'Presence to be in during the encounter.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Blood', value: Presence.Blood },\n\t\t\t\t{ name: 'Frost', value: Presence.Frost },\n\t\t\t\t{ name: 'Unholy', value: Presence.Unholy },\n\t\t\t],\n\t\t\tchangeEmitter: (player: Player<Spec.SpecTankDeathknight>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecTankDeathknight, Opener>({\n\t\t\tfieldName: 'opener',\n\t\t\tlabel: 'Opener',\n\t\t\tlabelTooltip: 'Chose what opener to perform:<br>\\\n\t\t\t\t<b>Regular</b>: Regular opener.<br>\\\n\t\t\t\t<b>Threat</b>: Full IT spam for max threat.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Regular', value: Opener.Regular },\n\t\t\t\t{ name: 'Threat', value: Opener.Threat },\n\t\t\t],\n\t\t\tchangeEmitter: (player: Player<Spec.SpecTankDeathknight>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecTankDeathknight, OptimizationSetting>({\n\t\t\tfieldName: 'optimizationSetting',\n\t\t\tlabel: 'Optimization Setting',\n\t\t\tlabelTooltip: 'Chose what metric to optimize:<br>\\\n\t\t\t\t<b>Hps</b>: Prioritizes holding runes for healing after damage taken.<br>\\\n\t\t\t\t<b>Tps</b>: Prioritizes spending runes for icy touch spam.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Hps', value: OptimizationSetting.Hps },\n\t\t\t\t{ name: 'Tps', value: OptimizationSetting.Tps },\n\t\t\t],\n\t\t\tchangeEmitter: (player: Player<Spec.SpecTankDeathknight>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecTankDeathknight, BloodSpell>({\n\t\t\tfieldName: 'bloodSpell',\n\t\t\tlabel: 'Blood Spell',\n\t\t\tlabelTooltip: 'Chose what blood rune spender to use.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Blood Strike', value: BloodSpell.BloodStrike },\n\t\t\t\t{ name: 'Blood Boil', value: BloodSpell.BloodBoil },\n\t\t\t\t{ name: 'Heart Strike', value: BloodSpell.HeartStrike },\n\t\t\t],\n\t\t\tchangeEmitter: (player: Player<Spec.SpecTankDeathknight>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecTankDeathknight, BloodTapPrio>({\n\t\t\tfieldName: 'bloodTapPrio',\n\t\t\tlabel: 'Blood Tap',\n\t\t\tlabelTooltip: 'Chose how to use Blood Tap:<br>\\\n\t\t\t\t<b>Use as Defensive Cooldown</b>: Use as defined in Cooldowns (Requires T10 4pc).<br>\\\n\t\t\t\t<b>Offensive</b>: Use Blood Tap for extra Icy Touches.',\n\t\t\tvalues: [\n\t\t\t\t{ name: 'Use as Defensive Cooldown', value: BloodTapPrio.Defensive },\n\t\t\t\t{ name: 'Offensive', value: BloodTapPrio.Offensive },\n\t\t\t],\n\t\t\tchangeEmitter: (player: Player<Spec.SpecTankDeathknight>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\n\t\t}),\n\t],\n};\n","import {\n\tConsumes,\n\tFlask,\n\tFood,\n\tGlyphs,\n\tPotions,\n} from '../core/proto/common.js';\nimport { SavedTalents } from '../core/proto/ui.js';\n\nimport {\n\tTankDeathknight_Options as TankDeathKnightOptions,\n\tDeathknightMajorGlyph,\n\tDeathknightMinorGlyph,\n} from '../core/proto/deathknight.js';\n\nimport * as PresetUtils from '../core/preset_utils.js';\n\nimport P1BloodGear from './gear_sets/p1_blood.gear.json';\nexport const P1_BLOOD_PRESET = PresetUtils.makePresetGear('P1 Blood', P1BloodGear);\nimport P2BloodGear from './gear_sets/p2_blood.gear.json';\nexport const P2_BLOOD_PRESET = PresetUtils.makePresetGear('P2 Blood', P2BloodGear);\nimport P3BloodGear from './gear_sets/p3_blood.gear.json';\nexport const P3_BLOOD_PRESET = PresetUtils.makePresetGear('P3 Blood', P3BloodGear);\nimport P4BloodGear from './gear_sets/p4_blood.gear.json';\nexport const P4_BLOOD_PRESET = PresetUtils.makePresetGear('P4 Blood', P4BloodGear);\nimport P1FrostGear from './gear_sets/p1_frost.gear.json';\nexport const P1_FROST_PRESET = PresetUtils.makePresetGear('P1 Frost', P1FrostGear);\nimport P2FrostGear from './gear_sets/p2_frost.gear.json';\nexport const P2_FROST_PRESET = PresetUtils.makePresetGear('P2 Frost', P2FrostGear);\n\nimport BloodIcyTouchApl from './apls/blood_icy_touch.apl.json';\nexport const BLOOD_IT_SPAM_ROTATION_PRESET_DEFAULT = PresetUtils.makePresetAPLRotation('Blood Icy Touch', BloodIcyTouchApl);\nimport BloodAggroApl from './apls/blood_aggro.apl.json';\nexport const BLOOD_AGGRO_ROTATION_PRESET_DEFAULT = PresetUtils.makePresetAPLRotation('Blood Aggro', BloodAggroApl);\n\nexport const BloodTalents = {\n\tname: 'Blood',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '005512153330030320102013-3050505000023-005',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: DeathknightMajorGlyph.GlyphOfDisease,\n\t\t\tmajor2: DeathknightMajorGlyph.GlyphOfRuneStrike,\n\t\t\tmajor3: DeathknightMajorGlyph.GlyphOfDarkCommand,\n\t\t\tminor1: DeathknightMinorGlyph.GlyphOfHornOfWinter,\n\t\t\tminor2: DeathknightMinorGlyph.GlyphOfBloodTap,\n\t\t\tminor3: DeathknightMinorGlyph.GlyphOfRaiseDead,\n\t\t}),\n\t}),\n};\n\nexport const BloodAggroTalents = {\n\tname: 'Blood Aggro',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '0355220530303303201020131301--0052003050032',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: DeathknightMajorGlyph.GlyphOfDancingRuneWeapon,\n\t\t\tmajor2: DeathknightMajorGlyph.GlyphOfRuneStrike,\n\t\t\tmajor3: DeathknightMajorGlyph.GlyphOfDarkCommand,\n\t\t\tminor1: DeathknightMinorGlyph.GlyphOfHornOfWinter,\n\t\t\tminor2: DeathknightMinorGlyph.GlyphOfBloodTap,\n\t\t\tminor3: DeathknightMinorGlyph.GlyphOfRaiseDead,\n\t\t}),\n\t}),\n};\n\nexport const DoubleBuffBloodTalents = {\n\tname: '2B Blood',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '005512153330030320102013-3050505000023201-002',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: DeathknightMajorGlyph.GlyphOfDisease,\n\t\t\tmajor2: DeathknightMajorGlyph.GlyphOfRuneStrike,\n\t\t\tmajor3: DeathknightMajorGlyph.GlyphOfDarkCommand,\n\t\t\tminor1: DeathknightMinorGlyph.GlyphOfHornOfWinter,\n\t\t\tminor2: DeathknightMinorGlyph.GlyphOfBloodTap,\n\t\t\tminor3: DeathknightMinorGlyph.GlyphOfRaiseDead,\n\t\t}),\n\t}),\n};\n\nexport const FrostTalents = {\n\tname: 'Frost',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '005510003-3050535000223301030023310035-005',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: DeathknightMajorGlyph.GlyphOfDisease,\n\t\t\tmajor2: DeathknightMajorGlyph.GlyphOfRuneStrike,\n\t\t\tmajor3: DeathknightMajorGlyph.GlyphOfDarkCommand,\n\t\t\tminor1: DeathknightMinorGlyph.GlyphOfHornOfWinter,\n\t\t\tminor2: DeathknightMinorGlyph.GlyphOfBloodTap,\n\t\t\tminor3: DeathknightMinorGlyph.GlyphOfRaiseDead,\n\t\t}),\n\t}),\n};\n\nexport const DoubleBuffFrostTalents = {\n\tname: '2B Frost',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '00551005303003002-305053510022330100002301-005',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: DeathknightMajorGlyph.GlyphOfDisease,\n\t\t\tmajor2: DeathknightMajorGlyph.GlyphOfRuneStrike,\n\t\t\tmajor3: DeathknightMajorGlyph.GlyphOfDarkCommand,\n\t\t\tminor1: DeathknightMinorGlyph.GlyphOfHornOfWinter,\n\t\t\tminor2: DeathknightMinorGlyph.GlyphOfBloodTap,\n\t\t\tminor3: DeathknightMinorGlyph.GlyphOfRaiseDead,\n\t\t}),\n\t}),\n};\n\nexport const DefaultOptions = TankDeathKnightOptions.create({\n\tstartingRunicPower: 0,\n});\n\nexport const DefaultConsumes = Consumes.create({\n\tflask: Flask.FlaskOfStoneblood,\n\tfood: Food.FoodDragonfinFilet,\n\tdefaultPotion: Potions.IndestructiblePotion,\n\tprepopPotion: Potions.IndestructiblePotion,\n});\n","import {\n\tClass,\n\tDebuffs,\n\tFaction,\n\tIndividualBuffs,\n\tPartyBuffs,\n\tPseudoStat,\n\tRace,\n\tRaidBuffs,\n\tSpec,\n\tStat,\n\tTristateEffect,\n} from '../core/proto/common.js';\nimport {\n\tAPLRotation,\n} from '../core/proto/apl.js';\nimport { Player } from '../core/player.js';\nimport { Stats } from '../core/proto_utils/stats.js';\nimport { getSpecIcon } from '../core/proto_utils/utils.js';\nimport { IndividualSimUI, registerSpecConfig } from '../core/individual_sim_ui.js';\n\nimport * as BuffDebuffInputs from '../core/components/inputs/buffs_debuffs.js';\nimport * as OtherInputs from '../core/components/other_inputs.js';\n\nimport * as DeathKnightInputs from './inputs.js';\nimport * as Presets from './presets.js';\n\nconst SPEC_CONFIG = registerSpecConfig(Spec.SpecTankDeathknight, {\n\tcssClass: 'tank-deathknight-sim-ui',\n\tcssScheme: 'death-knight',\n\t// List any known bugs / issues here and they'll be shown on the site.\n\tknownIssues: [\n\t\t\"<p>Defensive CDs use is very basic and wip.</p>\"\n\t],\n\n\t// All stats for which EP should be calculated.\n\tepStats: [\n\t\tStat.StatStamina,\n\t\tStat.StatStrength,\n\t\tStat.StatAgility,\n\t\tStat.StatAttackPower,\n\t\tStat.StatExpertise,\n\t\tStat.StatMeleeHit,\n\t\tStat.StatMeleeCrit,\n\t\tStat.StatMeleeHaste,\n\t\tStat.StatSpellHit,\n\t\tStat.StatSpellCrit,\n\t\tStat.StatSpellHaste,\n\t\tStat.StatHealth,\n\t\tStat.StatArmor,\n\t\tStat.StatBonusArmor,\n\t\tStat.StatArmorPenetration,\n\t\tStat.StatDefense,\n\t\tStat.StatDodge,\n\t\tStat.StatParry,\n\t\tStat.StatResilience,\n\t\tStat.StatSpellHit,\n\t\tStat.StatNatureResistance,\n\t\tStat.StatShadowResistance,\n\t\tStat.StatFrostResistance,\n\t],\n\tepPseudoStats: [\n\t\tPseudoStat.PseudoStatMainHandDps,\n\t\tPseudoStat.PseudoStatOffHandDps,\n\t],\n\t// Reference stat against which to calculate EP. I think all classes use either spell power or attack power.\n\tepReferenceStat: Stat.StatAttackPower,\n\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\n\tdisplayStats: [\n\t\tStat.StatHealth,\n\t\tStat.StatArmor,\n\t\tStat.StatBonusArmor,\n\t\tStat.StatStamina,\n\t\tStat.StatStrength,\n\t\tStat.StatAgility,\n\t\tStat.StatAttackPower,\n\t\tStat.StatExpertise,\n\t\tStat.StatSpellHit,\n\t\tStat.StatSpellCrit,\n\t\tStat.StatMeleeHit,\n\t\tStat.StatMeleeCrit,\n\t\tStat.StatMeleeHaste,\n\t\tStat.StatArmorPenetration,\n\t\tStat.StatDefense,\n\t\tStat.StatDodge,\n\t\tStat.StatParry,\n\t\tStat.StatResilience,\n\t\tStat.StatNatureResistance,\n\t\tStat.StatShadowResistance,\n\t\tStat.StatFrostResistance,\n\t],\n\tdefaults: {\n\t\t// Default equipped gear.\n\t\tgear: Presets.P2_BLOOD_PRESET.gear,\n\t\t// Default EP weights for sorting gear in the gear picker.\n\t\tepWeights: Stats.fromMap({\n\t\t\t[Stat.StatArmor]: 0.05,\n\t\t\t[Stat.StatBonusArmor]: 0.03,\n\t\t\t[Stat.StatStamina]: 1,\n\t\t\t[Stat.StatStrength]: 0.33,\n\t\t\t[Stat.StatAgility]: 0.6,\n\t\t\t[Stat.StatAttackPower]: 0.06,\n\t\t\t[Stat.StatExpertise]: 0.67,\n\t\t\t[Stat.StatMeleeHit]: 0.67,\n\t\t\t[Stat.StatMeleeCrit]: 0.28,\n\t\t\t[Stat.StatMeleeHaste]: 0.21,\n\t\t\t[Stat.StatArmorPenetration]: 0.19,\n\t\t\t[Stat.StatBlock]: 0.35,\n\t\t\t[Stat.StatBlockValue]: 0.59,\n\t\t\t[Stat.StatDodge]: 0.7,\n\t\t\t[Stat.StatParry]: 0.58,\n\t\t\t[Stat.StatDefense]: 0.8,\n\t\t}, {\n\t\t\t[PseudoStat.PseudoStatMainHandDps]: 3.10,\n\t\t\t[PseudoStat.PseudoStatOffHandDps]: 0.0,\n\t\t}),\n\t\t// Default consumes settings.\n\t\tconsumes: Presets.DefaultConsumes,\n\t\t// Default talents.\n\t\ttalents: Presets.BloodTalents.data,\n\t\t// Default spec-specific settings.\n\t\tspecOptions: Presets.DefaultOptions,\n\t\t// Default raid/party buffs settings.\n\t\traidBuffs: RaidBuffs.create({\n\t\t\tretributionAura: true,\n\t\t\tpowerWordFortitude: TristateEffect.TristateEffectImproved,\n\t\t\tgiftOfTheWild: TristateEffect.TristateEffectImproved,\n\t\t\tswiftRetribution: true,\n\t\t\tstrengthOfEarthTotem: TristateEffect.TristateEffectImproved,\n\t\t\ticyTalons: true,\n\t\t\tabominationsMight: true,\n\t\t\tleaderOfThePack: TristateEffect.TristateEffectRegular,\n\t\t\tsanctifiedRetribution: true,\n\t\t\tbloodlust: true,\n\t\t\tdevotionAura: TristateEffect.TristateEffectImproved,\n\t\t\tstoneskinTotem: TristateEffect.TristateEffectImproved,\n\t\t}),\n\t\tpartyBuffs: PartyBuffs.create({\n\t\t}),\n\t\tindividualBuffs: IndividualBuffs.create({\n\t\t\tblessingOfKings: true,\n\t\t\tblessingOfMight: TristateEffect.TristateEffectImproved,\n\t\t\tblessingOfSanctuary: true,\n\t\t}),\n\t\tdebuffs: Debuffs.create({\n\t\t\tbloodFrenzy: true,\n\t\t\tfaerieFire: TristateEffect.TristateEffectRegular,\n\t\t\tsunderArmor: true,\n\t\t\tmisery: true,\n\t\t\tebonPlaguebringer: true,\n\t\t\tmangle: true,\n\t\t\theartOfTheCrusader: true,\n\t\t\tdemoralizingShout: TristateEffect.TristateEffectImproved,\n\t\t\tfrostFever: TristateEffect.TristateEffectImproved,\n\t\t\tinsectSwarm: true,\n\t\t\tjudgementOfLight: true,\n\t\t}),\n\t},\n\n\t// IconInputs to include in the 'Player' section on the settings tab.\n\tplayerIconInputs: [\n\t],\n\t// Inputs to include in the 'Rotation' section on the settings tab.\n\trotationInputs: DeathKnightInputs.TankDeathKnightRotationConfig,\n\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\n\tincludeBuffDebuffInputs: [\n\t\tBuffDebuffInputs.SpellDamageDebuff,\n\t],\n\texcludeBuffDebuffInputs: [\n\t],\n\t// Inputs to include in the 'Other' section on the settings tab.\n\totherInputs: {\n\t\tinputs: [\n\t\t\tOtherInputs.TankAssignment,\n\t\t\tOtherInputs.HpPercentForDefensives,\n\t\t\tOtherInputs.IncomingHps,\n\t\t\tOtherInputs.HealingCadence,\n\t\t\tOtherInputs.HealingCadenceVariation,\n\t\t\tOtherInputs.BurstWindow,\n\t\t\tOtherInputs.InspirationUptime,\n\t\t\tOtherInputs.InFrontOfTarget,\n\t\t\tDeathKnightInputs.StartingRunicPower,\n\t\t],\n\t},\n\tencounterPicker: {\n\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\n\t\tshowExecuteProportion: false,\n\t},\n\n\tpresets: {\n\t\t// Preset rotations that the user can quickly select.\n\t\trotations: [\n\t\t\tPresets.BLOOD_IT_SPAM_ROTATION_PRESET_DEFAULT,\n\t\t\tPresets.BLOOD_AGGRO_ROTATION_PRESET_DEFAULT,\n\t\t],\n\t\t// Preset talents that the user can quickly select.\n\t\ttalents: [\n\t\t\tPresets.BloodTalents,\n\t\t\tPresets.BloodAggroTalents,\n\t\t\tPresets.DoubleBuffBloodTalents,\n\t\t\tPresets.FrostTalents,\n\t\t\tPresets.DoubleBuffFrostTalents,\n\t\t],\n\t\t// Preset gear configurations that the user can quickly select.\n\t\tgear: [\n\t\t\tPresets.P1_BLOOD_PRESET,\n\t\t\tPresets.P1_FROST_PRESET,\n\t\t\tPresets.P2_BLOOD_PRESET,\n\t\t\tPresets.P2_FROST_PRESET,\n\t\t\tPresets.P3_BLOOD_PRESET,\n\t\t\tPresets.P4_BLOOD_PRESET,\n\t\t],\n\t},\n\n\tautoRotation: (_player: Player<Spec.SpecTankDeathknight>): APLRotation => {\n\t\treturn Presets.BLOOD_IT_SPAM_ROTATION_PRESET_DEFAULT.rotation.rotation!;\n\t},\n\n\traidSimPresets: [\n\t\t{\n\t\t\tspec: Spec.SpecTankDeathknight,\n\t\t\ttooltip: 'Blood Tank Death Knight',\n\t\t\tdefaultName: 'Blood Tank',\n\t\t\ticonUrl: getSpecIcon(Class.ClassDeathknight, 0),\n\n\t\t\ttalents: Presets.BloodTalents.data,\n\t\t\tspecOptions: Presets.DefaultOptions,\n\t\t\tconsumes: Presets.DefaultConsumes,\n\t\t\tdefaultFactionRaces: {\n\t\t\t\t[Faction.Unknown]: Race.RaceUnknown,\n\t\t\t\t[Faction.Alliance]: Race.RaceHuman,\n\t\t\t\t[Faction.Horde]: Race.RaceTroll,\n\t\t\t},\n\t\t\tdefaultGear: {\n\t\t\t\t[Faction.Unknown]: {},\n\t\t\t\t[Faction.Alliance]: {\n\t\t\t\t\t1: Presets.P1_BLOOD_PRESET.gear,\n\t\t\t\t\t2: Presets.P2_BLOOD_PRESET.gear,\n\t\t\t\t\t3: Presets.P3_BLOOD_PRESET.gear,\n\t\t\t\t\t4: Presets.P4_BLOOD_PRESET.gear,\n\t\t\t\t},\n\t\t\t\t[Faction.Horde]: {\n\t\t\t\t\t1: Presets.P1_BLOOD_PRESET.gear,\n\t\t\t\t\t2: Presets.P2_BLOOD_PRESET.gear,\n\t\t\t\t\t3: Presets.P3_BLOOD_PRESET.gear,\n\t\t\t\t\t4: Presets.P4_BLOOD_PRESET.gear,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t],\n});\n\nexport class TankDeathknightSimUI extends IndividualSimUI<Spec.SpecTankDeathknight> {\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecTankDeathknight>) {\n\t\tsuper(parentElem, player, SPEC_CONFIG);\n\t}\n}\n"],"names":["StartingRunicPower","InputHelpers.makeSpecOptionsNumberInput","fieldName","label","labelTooltip","TankDeathKnightRotationConfig","inputs","InputHelpers.makeRotationEnumInput","values","name","value","Presence","Blood","Frost","Unholy","changeEmitter","player","TypedEvent","onAny","rotationChangeEmitter","talentsChangeEmitter","Opener","Regular","Threat","OptimizationSetting","Hps","Tps","BloodSpell","BloodStrike","BloodBoil","HeartStrike","BloodTapPrio","Defensive","Offensive","P1_BLOOD_PRESET","PresetUtils.makePresetGear","P2_BLOOD_PRESET","P2BloodGear","P3_BLOOD_PRESET","P3BloodGear","P4_BLOOD_PRESET","P4BloodGear","P1_FROST_PRESET","P1FrostGear","P2_FROST_PRESET","P2FrostGear","BLOOD_IT_SPAM_ROTATION_PRESET_DEFAULT","PresetUtils.makePresetAPLRotation","BloodIcyTouchApl","BLOOD_AGGRO_ROTATION_PRESET_DEFAULT","BloodAggroApl","BloodTalents","data","SavedTalents","create","talentsString","glyphs","Glyphs","major1","DeathknightMajorGlyph","GlyphOfDisease","major2","GlyphOfRuneStrike","major3","GlyphOfDarkCommand","minor1","DeathknightMinorGlyph","GlyphOfHornOfWinter","minor2","GlyphOfBloodTap","minor3","GlyphOfRaiseDead","BloodAggroTalents","GlyphOfDancingRuneWeapon","DoubleBuffBloodTalents","FrostTalents","DoubleBuffFrostTalents","DefaultOptions","TankDeathKnightOptions","startingRunicPower","DefaultConsumes","Consumes","flask","Flask","FlaskOfStoneblood","food","Food","FoodDragonfinFilet","defaultPotion","Potions","IndestructiblePotion","prepopPotion","SPEC_CONFIG","registerSpecConfig","Spec","SpecTankDeathknight","cssClass","cssScheme","knownIssues","epStats","Stat","StatStamina","StatStrength","StatAgility","StatAttackPower","StatExpertise","StatMeleeHit","StatMeleeCrit","StatMeleeHaste","StatSpellHit","StatSpellCrit","StatSpellHaste","StatHealth","StatArmor","StatBonusArmor","StatArmorPenetration","StatDefense","StatDodge","StatParry","StatResilience","StatNatureResistance","StatShadowResistance","StatFrostResistance","epPseudoStats","PseudoStat","PseudoStatMainHandDps","PseudoStatOffHandDps","epReferenceStat","displayStats","defaults","gear","Presets.P2_BLOOD_PRESET","epWeights","Stats","fromMap","StatBlock","StatBlockValue","consumes","Presets.DefaultConsumes","talents","Presets.BloodTalents","specOptions","Presets.DefaultOptions","raidBuffs","RaidBuffs","retributionAura","powerWordFortitude","TristateEffect","TristateEffectImproved","giftOfTheWild","swiftRetribution","strengthOfEarthTotem","icyTalons","abominationsMight","leaderOfThePack","TristateEffectRegular","sanctifiedRetribution","bloodlust","devotionAura","stoneskinTotem","partyBuffs","PartyBuffs","individualBuffs","IndividualBuffs","blessingOfKings","blessingOfMight","blessingOfSanctuary","debuffs","Debuffs","bloodFrenzy","faerieFire","sunderArmor","misery","ebonPlaguebringer","mangle","heartOfTheCrusader","demoralizingShout","frostFever","insectSwarm","judgementOfLight","playerIconInputs","rotationInputs","DeathKnightInputs.TankDeathKnightRotationConfig","includeBuffDebuffInputs","BuffDebuffInputs.SpellDamageDebuff","excludeBuffDebuffInputs","otherInputs","OtherInputs.TankAssignment","OtherInputs.HpPercentForDefensives","OtherInputs.IncomingHps","OtherInputs.HealingCadence","OtherInputs.HealingCadenceVariation","OtherInputs.BurstWindow","OtherInputs.InspirationUptime","OtherInputs.InFrontOfTarget","DeathKnightInputs.StartingRunicPower","encounterPicker","showExecuteProportion","presets","rotations","Presets.BLOOD_IT_SPAM_ROTATION_PRESET_DEFAULT","Presets.BLOOD_AGGRO_ROTATION_PRESET_DEFAULT","Presets.BloodAggroTalents","Presets.DoubleBuffBloodTalents","Presets.FrostTalents","Presets.DoubleBuffFrostTalents","Presets.P1_BLOOD_PRESET","Presets.P1_FROST_PRESET","Presets.P2_FROST_PRESET","Presets.P3_BLOOD_PRESET","Presets.P4_BLOOD_PRESET","autoRotation","_player","rotation","raidSimPresets","spec","tooltip","defaultName","iconUrl","getSpecIcon","Class","ClassDeathknight","defaultFactionRaces","Faction","Unknown","Race","RaceUnknown","Alliance","RaceHuman","Horde","RaceTroll","defaultGear","TankDeathknightSimUI","IndividualSimUI","constructor","parentElem","super"],"mappings":"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"}