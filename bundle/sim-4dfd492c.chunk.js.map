{"version":3,"file":"sim-4dfd492c.chunk.js","sources":["../../../ui/warrior/inputs.ts","../../../ui/warrior/presets.ts","../../../ui/warrior/sim.ts"],"sourcesContent":["import { Spec } from '../core/proto/common.js';\nimport { ActionId } from '../core/proto_utils/action_id.js';\n\nimport {\n\tWarriorShout,\n} from '../core/proto/warrior.js';\n\nimport * as InputHelpers from '../core/components/input_helpers.js';\n\n// Configuration for spec-specific UI elements on the settings tab.\n// These don't need to be in a separate file but it keeps things cleaner.\n\nexport const Recklessness = InputHelpers.makeSpecOptionsBooleanIconInput<Spec.SpecWarrior>({\n\tfieldName: 'useRecklessness',\n\tid: ActionId.fromSpellId(1719),\n});\n\nexport const ShatteringThrow = InputHelpers.makeSpecOptionsBooleanIconInput<Spec.SpecWarrior>({\n\tfieldName: 'useShatteringThrow',\n\tid: ActionId.fromSpellId(64382),\n});\n\nexport const StartingRage = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecWarrior>({\n\tfieldName: 'startingRage',\n\tlabel: 'Starting Rage',\n\tlabelTooltip: 'Initial rage at the start of each iteration.',\n});\n\n\nexport const StanceSnapshot = InputHelpers.makeSpecOptionsBooleanInput<Spec.SpecWarrior>({\n\tfieldName: 'stanceSnapshot',\n\tlabel: 'Stance Snapshot',\n\tlabelTooltip: 'Ability that is cast at the same time as stance swap will benefit from the bonus of the stance before the swap.',\n});\n\n// Allows for auto gemming whilst ignoring expertise cap\n// (Useful for Arms)\nexport const DisableExpertiseGemming = InputHelpers.makeSpecOptionsBooleanInput<Spec.SpecWarrior>({\n\tfieldName: 'disableExpertiseGemming',\n\tlabel: 'Disable expertise gemming',\n\tlabelTooltip: 'Disables auto gemming for expertise',\n});\n\nexport const ShoutPicker = InputHelpers.makeSpecOptionsEnumIconInput<Spec.SpecWarrior, WarriorShout>({\n\tfieldName: 'shout',\n\tvalues: [\n\t\t{ color: 'c79c6e', value: WarriorShout.WarriorShoutNone },\n\t\t{ actionId: ActionId.fromSpellId(2048), value: WarriorShout.WarriorShoutBattle },\n\t\t{ actionId: ActionId.fromSpellId(469), value: WarriorShout.WarriorShoutCommanding },\n\t],\n});\n","import {\n\tConsumes,\n\tFaction,\n\tFlask,\n\tFood,\n\tGlyphs,\n\tPotions,\n} from '../core/proto/common.js';\nimport { SavedTalents } from '../core/proto/ui.js';\n\nimport {\n\tWarriorShout,\n\tWarrior_Options as WarriorOptions,\n\tWarriorMajorGlyph,\n\tWarriorMinorGlyph,\n} from '../core/proto/warrior.js';\n\nimport * as PresetUtils from '../core/preset_utils.js';\n\n// Preset options for this spec.\n// Eventually we will import these values for the raid sim too, so its good to\n// keep them in a separate file.\n\nimport PreraidArmsGear from './gear_sets/preraid_arms.gear.json';\nexport const PRERAID_ARMS_PRESET = PresetUtils.makePresetGear('Preraid Arms', PreraidArmsGear, { talentTree: 0 });\nimport P1ArmsGear from './gear_sets/p1_arms.gear.json';\nexport const P1_ARMS_PRESET = PresetUtils.makePresetGear('P1 Arms', P1ArmsGear, { talentTree: 0 });\nimport P2ArmsGear from './gear_sets/p2_arms.gear.json';\nexport const P2_ARMS_PRESET = PresetUtils.makePresetGear('P2 Arms', P2ArmsGear, { talentTree: 0 });\nimport P3Arms2pAllianceGear from './gear_sets/p3_arms_2p_alliance.gear.json';\nexport const P3_ARMS_2P_PRESET_ALLIANCE = PresetUtils.makePresetGear('P3 Arms 2p [A]', P3Arms2pAllianceGear, { talentTree: 0, faction: Faction.Alliance });\nimport P3Arms4pAllianceGear from './gear_sets/p3_arms_4p_alliance.gear.json';\nexport const P3_ARMS_4P_PRESET_ALLIANCE = PresetUtils.makePresetGear('P3 Arms 4p [A]', P3Arms4pAllianceGear, { talentTree: 0, faction: Faction.Alliance });\nimport P3Arms2pHordeGear from './gear_sets/p3_arms_2p_horde.gear.json';\nexport const P3_ARMS_2P_PRESET_HORDE = PresetUtils.makePresetGear('P3 Arms 2p [H]', P3Arms2pHordeGear, { talentTree: 0, faction: Faction.Horde });\nimport P3Arms4pHordeGear from './gear_sets/p3_arms_4p_horde.gear.json';\nexport const P3_ARMS_4P_PRESET_HORDE = PresetUtils.makePresetGear('P3 Arms 4p [H]', P3Arms4pHordeGear, { talentTree: 0, faction: Faction.Horde });\nimport P4ArmsAllianceGear from './gear_sets/p4_arms_alliance.gear.json';\nexport const P4_ARMS_PRESET_ALLIANCE = PresetUtils.makePresetGear('P4 Arms [A]', P4ArmsAllianceGear, { talentTree: 0, faction: Faction.Alliance });\nimport P4ArmsHordeGear from './gear_sets/p4_arms_horde.gear.json';\nexport const P4_ARMS_PRESET_HORDE = PresetUtils.makePresetGear('P4 Arms [H]', P4ArmsHordeGear, { talentTree: 0, faction: Faction.Horde });\nimport PreraidFuryGear from './gear_sets/preraid_fury.gear.json';\nexport const PRERAID_FURY_PRESET = PresetUtils.makePresetGear('Preraid Fury', PreraidFuryGear, { talentTrees: [1,2] });\nimport P1FuryGear from './gear_sets/p1_fury.gear.json';\nexport const P1_FURY_PRESET = PresetUtils.makePresetGear('P1 Fury', P1FuryGear, { talentTrees: [1,2] });\nimport P2FuryGear from './gear_sets/p2_fury.gear.json';\nexport const P2_FURY_PRESET = PresetUtils.makePresetGear('P2 Fury', P2FuryGear, { talentTrees: [1,2] });\nimport P3FuryAllianceGear from './gear_sets/p3_fury_alliance.gear.json';\nexport const P3_FURY_PRESET_ALLIANCE = PresetUtils.makePresetGear('P3 Fury [A]', P3FuryAllianceGear, { talentTrees: [1,2], faction: Faction.Alliance });\nimport P3FuryHordeGear from './gear_sets/p3_fury_horde.gear.json';\nexport const P3_FURY_PRESET_HORDE = PresetUtils.makePresetGear('P3 Fury [H]', P3FuryHordeGear, { talentTrees: [1,2], faction: Faction.Horde });\nimport P4FuryAllianceGear from './gear_sets/p4_fury_alliance.gear.json';\nexport const P4_FURY_PRESET_ALLIANCE = PresetUtils.makePresetGear('P4 Fury [A]', P4FuryAllianceGear, { talentTrees: [1,2], faction: Faction.Alliance });\nimport P4FuryHordeGear from './gear_sets/p4_fury_horde.gear.json';\nexport const P4_FURY_PRESET_HORDE = PresetUtils.makePresetGear('P4 Fury [H]', P4FuryHordeGear, { talentTrees: [1,2], faction: Faction.Horde });\n\nimport FuryApl from './apls/fury.apl.json';\nexport const ROTATION_FURY = PresetUtils.makePresetAPLRotation('Fury', FuryApl, { talentTree: 1 });\nimport FurySunderApl from './apls/fury_sunder.apl.json';\nexport const ROTATION_FURY_SUNDER = PresetUtils.makePresetAPLRotation('Fury + Sunder', FurySunderApl, { talentTree: 1 });\nimport ArmsApl from './apls/arms.apl.json';\nexport const ROTATION_ARMS = PresetUtils.makePresetAPLRotation('Arms', ArmsApl, { talentTree: 0 });\nimport ArmsSunderApl from './apls/arms_sunder.apl.json';\nexport const ROTATION_ARMS_SUNDER = PresetUtils.makePresetAPLRotation('Arms + Sunder', ArmsSunderApl, { talentTree: 0 });\n\n// Default talents. Uses the wowhead calculator format, make the talents on\n// https://wowhead.com/wotlk/talent-calc and copy the numbers in the url.\nexport const ArmsTalents = {\n\tname: 'Arms',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '3022032023335100102012213231251-305-2033',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: WarriorMajorGlyph.GlyphOfRending,\n\t\t\tmajor2: WarriorMajorGlyph.GlyphOfMortalStrike,\n\t\t\tmajor3: WarriorMajorGlyph.GlyphOfExecution,\n\t\t\tminor1: WarriorMinorGlyph.GlyphOfThunderClap,\n\t\t\tminor2: WarriorMinorGlyph.GlyphOfCommand,\n\t\t\tminor3: WarriorMinorGlyph.GlyphOfShatteringThrow,\n\t\t}),\n\t}),\n};\n\nexport const FuryTalents = {\n\tname: 'Fury',\n\tdata: SavedTalents.create({\n\t\ttalentsString: '32002301233-305053000520310053120500351',\n\t\tglyphs: Glyphs.create({\n\t\t\tmajor1: WarriorMajorGlyph.GlyphOfWhirlwind,\n\t\t\tmajor2: WarriorMajorGlyph.GlyphOfHeroicStrike,\n\t\t\tmajor3: WarriorMajorGlyph.GlyphOfExecution,\n\t\t\tminor1: WarriorMinorGlyph.GlyphOfCommand,\n\t\t\tminor2: WarriorMinorGlyph.GlyphOfShatteringThrow,\n\t\t\tminor3: WarriorMinorGlyph.GlyphOfCharge,\n\t\t}),\n\t}),\n};\n\nexport const DefaultOptions = WarriorOptions.create({\n\tstartingRage: 0,\n\tuseRecklessness: true,\n\tuseShatteringThrow: true,\n\tdisableExpertiseGemming: false,\n\tshout: WarriorShout.WarriorShoutCommanding,\n});\n\nexport const DefaultConsumes = Consumes.create({\n\tflask: Flask.FlaskOfEndlessRage,\n\tfood: Food.FoodSpicedWormBurger,\n\tdefaultPotion: Potions.IndestructiblePotion,\n\tprepopPotion: Potions.PotionOfSpeed,\n});","import {\n\tClass,\n\tDebuffs,\n\tFaction,\n\tGemColor,\n\tIndividualBuffs,\n\tItemSlot,\n\tPartyBuffs,\n\tRace,\n\tRaidBuffs,\n\tSpec,\n\tStat, PseudoStat,\n\tProfession,\n\tTristateEffect,\n} from '../core/proto/common.js';\nimport {\n\tAPLRotation,\n} from '../core/proto/apl.js';\nimport { Stats } from '../core/proto_utils/stats.js';\nimport { Player } from '../core/player.js';\nimport { getSpecIcon } from '../core/proto_utils/utils.js';\nimport { IndividualSimUI, registerSpecConfig } from '../core/individual_sim_ui.js';\nimport { Gear } from '../core/proto_utils/gear.js';\nimport { PhysicalDPSGemOptimizer } from '../core/components/suggest_gems_action.js';\n\nimport * as BuffDebuffInputs from '../core/components/inputs/buffs_debuffs.js';\nimport * as OtherInputs from '../core/components/other_inputs.js';\nimport * as Mechanics from '../core/constants/mechanics.js';\n\nimport * as WarriorInputs from './inputs.js';\nimport * as Presets from './presets.js';\n\nconst SPEC_CONFIG = registerSpecConfig(Spec.SpecWarrior, {\n\tcssClass: 'warrior-sim-ui',\n\tcssScheme: 'warrior',\n\t// List any known bugs / issues here and they'll be shown on the site.\n\tknownIssues: [\n\t],\n\n\t// All stats for which EP should be calculated.\n\tepStats: [\n\t\tStat.StatStrength,\n\t\tStat.StatAgility,\n\t\tStat.StatAttackPower,\n\t\tStat.StatExpertise,\n\t\tStat.StatMeleeHit,\n\t\tStat.StatMeleeCrit,\n\t\tStat.StatMeleeHaste,\n\t\tStat.StatArmorPenetration,\n\t\tStat.StatArmor,\n\t],\n\tepPseudoStats: [\n\t\tPseudoStat.PseudoStatMainHandDps,\n\t\tPseudoStat.PseudoStatOffHandDps,\n\t],\n\t// Reference stat against which to calculate EP. I think all classes use either spell power or attack power.\n\tepReferenceStat: Stat.StatAttackPower,\n\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\n\tdisplayStats: [\n\t\tStat.StatHealth,\n\t\tStat.StatStamina,\n\t\tStat.StatStrength,\n\t\tStat.StatAgility,\n\t\tStat.StatAttackPower,\n\t\tStat.StatExpertise,\n\t\tStat.StatMeleeHit,\n\t\tStat.StatMeleeCrit,\n\t\tStat.StatMeleeHaste,\n\t\tStat.StatArmorPenetration,\n\t\tStat.StatArmor,\n\t],\n\tmodifyDisplayStats: (player: Player<Spec.SpecWarrior>) => {\n\t\tlet stats = new Stats();\n\t\tif (!player.getInFrontOfTarget()) {\n\t\t\t// When behind target, dodge is the only outcome affected by Expertise.\n\t\t\tstats = stats.addStat(Stat.StatExpertise, player.getTalents().weaponMastery * 4 * Mechanics.EXPERTISE_PER_QUARTER_PERCENT_REDUCTION);\n\t\t}\n\t\treturn {\n\t\t\ttalents: stats,\n\t\t};\n\t},\n\n\tdefaults: {\n\t\t// Default equipped gear.\n\t\tgear: Presets.P3_FURY_PRESET_ALLIANCE.gear,\n\t\t// Default EP weights for sorting gear in the gear picker.\n\t\tepWeights: Stats.fromMap({\n\t\t\t[Stat.StatStrength]: 2.72,\n\t\t\t[Stat.StatAgility]: 1.82,\n\t\t\t[Stat.StatAttackPower]: 1,\n\t\t\t[Stat.StatExpertise]: 2.55,\n\t\t\t[Stat.StatMeleeHit]: 0.79,\n\t\t\t[Stat.StatMeleeCrit]: 2.12,\n\t\t\t[Stat.StatMeleeHaste]: 1.72,\n\t\t\t[Stat.StatArmorPenetration]: 2.17,\n\t\t\t[Stat.StatArmor]: 0.03,\n\t\t}, {\n\t\t\t[PseudoStat.PseudoStatMainHandDps]: 6.29,\n\t\t\t[PseudoStat.PseudoStatOffHandDps]: 3.58,\n\t\t}),\n\t\t// Default consumes settings.\n\t\tconsumes: Presets.DefaultConsumes,\n\t\t// Default talents.\n\t\ttalents: Presets.FuryTalents.data,\n\t\t// Default spec-specific settings.\n\t\tspecOptions: Presets.DefaultOptions,\n\t\t// Default raid/party buffs settings.\n\t\traidBuffs: RaidBuffs.create({\n\t\t\tgiftOfTheWild: TristateEffect.TristateEffectImproved,\n\t\t\tswiftRetribution: true,\n\t\t\tstrengthOfEarthTotem: TristateEffect.TristateEffectImproved,\n\t\t\ticyTalons: true,\n\t\t\tabominationsMight: true,\n\t\t\tleaderOfThePack: TristateEffect.TristateEffectRegular,\n\t\t\tsanctifiedRetribution: true,\n\t\t\tbloodlust: true,\n\t\t\tdevotionAura: TristateEffect.TristateEffectImproved,\n\t\t\tstoneskinTotem: TristateEffect.TristateEffectImproved,\n\t\t}),\n\t\tpartyBuffs: PartyBuffs.create({\n\t\t\theroicPresence: false,\n\t\t}),\n\t\tindividualBuffs: IndividualBuffs.create({\n\t\t\tblessingOfKings: true,\n\t\t\tblessingOfMight: TristateEffect.TristateEffectImproved,\n\t\t}),\n\t\tdebuffs: Debuffs.create({\n\t\t\tbloodFrenzy: true,\n\t\t\theartOfTheCrusader: true,\n\t\t\tmangle: true,\n\t\t\tsunderArmor: true,\n\t\t\tcurseOfWeakness: TristateEffect.TristateEffectRegular,\n\t\t\tfaerieFire: TristateEffect.TristateEffectImproved,\n\t\t\tebonPlaguebringer: true,\n\t\t}),\n\t},\n\n\t// IconInputs to include in the 'Player' section on the settings tab.\n\tplayerIconInputs: [\n\t\tWarriorInputs.ShoutPicker,\n\t\tWarriorInputs.Recklessness,\n\t\tWarriorInputs.ShatteringThrow,\n\t],\n\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\n\tincludeBuffDebuffInputs: [\n\t\t// just for Bryntroll\n\t\tBuffDebuffInputs.SpellDamageDebuff,\n\t\tBuffDebuffInputs.SpellHitDebuff,\n\t],\n\texcludeBuffDebuffInputs: [\n\t],\n\t// Inputs to include in the 'Other' section on the settings tab.\n\totherInputs: {\n\t\tinputs: [\n\t\t\tWarriorInputs.StartingRage,\n\t\t\tWarriorInputs.StanceSnapshot,\n\t\t\tWarriorInputs.DisableExpertiseGemming,\n\t\t\tOtherInputs.TankAssignment,\n\t\t\tOtherInputs.InFrontOfTarget,\n\t\t],\n\t},\n\tencounterPicker: {\n\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\n\t\tshowExecuteProportion: true,\n\t},\n\n\tpresets: {\n\t\t// Preset talents that the user can quickly select.\n\t\ttalents: [\n\t\t\tPresets.ArmsTalents,\n\t\t\tPresets.FuryTalents,\n\t\t],\n\t\t// Preset rotations that the user can quickly select.\n\t\trotations: [\n\t\t\tPresets.ROTATION_FURY,\n\t\t\tPresets.ROTATION_FURY_SUNDER,\n\t\t\tPresets.ROTATION_ARMS,\n\t\t\tPresets.ROTATION_ARMS_SUNDER,\n\t\t],\n\t\t// Preset gear configurations that the user can quickly select.\n\t\tgear: [\n\t\t\tPresets.PRERAID_FURY_PRESET,\n\t\t\tPresets.P1_FURY_PRESET,\n\t\t\tPresets.P2_FURY_PRESET,\n\t\t\tPresets.P3_FURY_PRESET_ALLIANCE,\n\t\t\tPresets.P3_FURY_PRESET_HORDE,\n\t\t\tPresets.P4_FURY_PRESET_ALLIANCE,\n\t\t\tPresets.P4_FURY_PRESET_HORDE,\n\t\t\tPresets.PRERAID_ARMS_PRESET,\n\t\t\tPresets.P1_ARMS_PRESET,\n\t\t\tPresets.P2_ARMS_PRESET,\n\t\t\tPresets.P3_ARMS_2P_PRESET_ALLIANCE,\n\t\t\tPresets.P3_ARMS_4P_PRESET_ALLIANCE,\n\t\t\tPresets.P3_ARMS_2P_PRESET_HORDE,\n\t\t\tPresets.P3_ARMS_4P_PRESET_HORDE,\n\t\t\tPresets.P4_ARMS_PRESET_ALLIANCE,\n\t\t\tPresets.P4_ARMS_PRESET_HORDE,\n\t\t],\n\t},\n\n\tautoRotation: (player: Player<Spec.SpecWarrior>): APLRotation => {\n\t\tconst talentTree = player.getTalentTree();\n\t\tif (talentTree == 0) {\n\t\t\treturn Presets.ROTATION_ARMS_SUNDER.rotation.rotation!;\n\t\t} else {\n\t\t\treturn Presets.ROTATION_FURY_SUNDER.rotation.rotation!;\n\t\t}\n\t},\n\n\traidSimPresets: [\n\t\t{\n\t\t\tspec: Spec.SpecWarrior,\n\t\t\ttooltip: 'Arms Warrior',\n\t\t\tdefaultName: 'Arms',\n\t\t\ticonUrl: getSpecIcon(Class.ClassWarrior, 0),\n\n\t\t\ttalents: Presets.ArmsTalents.data,\n\t\t\tspecOptions: Presets.DefaultOptions,\n\t\t\tconsumes: Presets.DefaultConsumes,\n\t\t\tdefaultFactionRaces: {\n\t\t\t\t[Faction.Unknown]: Race.RaceUnknown,\n\t\t\t\t[Faction.Alliance]: Race.RaceHuman,\n\t\t\t\t[Faction.Horde]: Race.RaceOrc,\n\t\t\t},\n\t\t\tdefaultGear: {\n\t\t\t\t[Faction.Unknown]: {},\n\t\t\t\t[Faction.Alliance]: {\n\t\t\t\t\t1: Presets.P1_ARMS_PRESET.gear,\n\t\t\t\t\t2: Presets.P2_ARMS_PRESET.gear,\n\t\t\t\t\t3: Presets.P3_ARMS_4P_PRESET_ALLIANCE.gear,\n\t\t\t\t\t4: Presets.P4_ARMS_PRESET_ALLIANCE.gear,\n\t\t\t\t},\n\t\t\t\t[Faction.Horde]: {\n\t\t\t\t\t1: Presets.P1_ARMS_PRESET.gear,\n\t\t\t\t\t2: Presets.P2_ARMS_PRESET.gear,\n\t\t\t\t\t3: Presets.P3_ARMS_4P_PRESET_HORDE.gear,\n\t\t\t\t\t4: Presets.P4_ARMS_PRESET_HORDE.gear,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tspec: Spec.SpecWarrior,\n\t\t\ttooltip: 'Fury Warrior',\n\t\t\tdefaultName: 'Fury',\n\t\t\ticonUrl: getSpecIcon(Class.ClassWarrior, 1),\n\n\t\t\ttalents: Presets.FuryTalents.data,\n\t\t\tspecOptions: Presets.DefaultOptions,\n\t\t\tconsumes: Presets.DefaultConsumes,\n\t\t\tdefaultFactionRaces: {\n\t\t\t\t[Faction.Unknown]: Race.RaceUnknown,\n\t\t\t\t[Faction.Alliance]: Race.RaceHuman,\n\t\t\t\t[Faction.Horde]: Race.RaceOrc,\n\t\t\t},\n\t\t\tdefaultGear: {\n\t\t\t\t[Faction.Unknown]: {},\n\t\t\t\t[Faction.Alliance]: {\n\t\t\t\t\t1: Presets.P1_FURY_PRESET.gear,\n\t\t\t\t\t2: Presets.P2_FURY_PRESET.gear,\n\t\t\t\t\t3: Presets.P3_FURY_PRESET_ALLIANCE.gear,\n\t\t\t\t\t4: Presets.P4_FURY_PRESET_ALLIANCE.gear,\n\t\t\t\t},\n\t\t\t\t[Faction.Horde]: {\n\t\t\t\t\t1: Presets.P1_FURY_PRESET.gear,\n\t\t\t\t\t2: Presets.P2_FURY_PRESET.gear,\n\t\t\t\t\t3: Presets.P3_FURY_PRESET_HORDE.gear,\n\t\t\t\t\t4: Presets.P4_FURY_PRESET_HORDE.gear,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t],\n});\n\nexport class WarriorSimUI extends IndividualSimUI<Spec.SpecWarrior> {\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecWarrior>) {\n\t\tsuper(parentElem, player, SPEC_CONFIG);\n\t\tconst gemOptimizer = new WarriorGemOptimizer(this);\n\t}\n}\n\nclass WarriorGemOptimizer extends PhysicalDPSGemOptimizer {\n\treadonly player: Player<Spec.SpecWarrior>;\n\n\tconstructor(simUI: IndividualSimUI<Spec.SpecWarrior>) {\n\t\tsuper(simUI, true, true, false, true);\n\t\tthis.player = simUI.player;\n\t}\n\n\tupdateGemPriority(ungemmedGear: Gear, passiveStats: Stats) {\n\t\tthis.useExpGems = !this.player.getSpecOptions().disableExpertiseGemming;\n\t\tsuper.updateGemPriority(ungemmedGear, passiveStats);\n\t}\n\n\tcalcExpTarget(): number {\n\t\tlet expTarget = super.calcExpTarget();\n\t\tconst weaponMastery = this.player.getTalents().weaponMastery;\n\t\tconst hasWeaponMasteryTalent = !!weaponMastery;\n\t\t\n\t\tif (hasWeaponMasteryTalent) {\n\t\t\texpTarget -= weaponMastery * 4 * Mechanics.EXPERTISE_PER_QUARTER_PERCENT_REDUCTION;\n\t\t}\n\n\t\treturn expTarget;\n\t}\n}\n"],"names":["Recklessness","InputHelpers.makeSpecOptionsBooleanIconInput","fieldName","id","ActionId","fromSpellId","ShatteringThrow","StartingRage","InputHelpers.makeSpecOptionsNumberInput","label","labelTooltip","StanceSnapshot","InputHelpers.makeSpecOptionsBooleanInput","DisableExpertiseGemming","ShoutPicker","InputHelpers.makeSpecOptionsEnumIconInput","values","color","value","WarriorShout","WarriorShoutNone","actionId","WarriorShoutBattle","WarriorShoutCommanding","PRERAID_ARMS_PRESET","PresetUtils.makePresetGear","talentTree","P1_ARMS_PRESET","P1ArmsGear","P2_ARMS_PRESET","P2ArmsGear","P3_ARMS_2P_PRESET_ALLIANCE","P3Arms2pAllianceGear","faction","Faction","Alliance","P3_ARMS_4P_PRESET_ALLIANCE","P3Arms4pAllianceGear","P3_ARMS_2P_PRESET_HORDE","P3Arms2pHordeGear","Horde","P3_ARMS_4P_PRESET_HORDE","P3Arms4pHordeGear","P4_ARMS_PRESET_ALLIANCE","P4ArmsAllianceGear","P4_ARMS_PRESET_HORDE","P4ArmsHordeGear","PRERAID_FURY_PRESET","PreraidFuryGear","talentTrees","P1_FURY_PRESET","P1FuryGear","P2_FURY_PRESET","P2FuryGear","P3_FURY_PRESET_ALLIANCE","P3FuryAllianceGear","P3_FURY_PRESET_HORDE","P3FuryHordeGear","P4_FURY_PRESET_ALLIANCE","P4FuryAllianceGear","P4_FURY_PRESET_HORDE","P4FuryHordeGear","ROTATION_FURY","PresetUtils.makePresetAPLRotation","FuryApl","ROTATION_FURY_SUNDER","FurySunderApl","ROTATION_ARMS","ArmsApl","ROTATION_ARMS_SUNDER","ArmsSunderApl","ArmsTalents","name","data","SavedTalents","create","talentsString","glyphs","Glyphs","major1","WarriorMajorGlyph","GlyphOfRending","major2","GlyphOfMortalStrike","major3","GlyphOfExecution","minor1","WarriorMinorGlyph","GlyphOfThunderClap","minor2","GlyphOfCommand","minor3","GlyphOfShatteringThrow","FuryTalents","GlyphOfWhirlwind","GlyphOfHeroicStrike","GlyphOfCharge","DefaultOptions","WarriorOptions","startingRage","useRecklessness","useShatteringThrow","disableExpertiseGemming","shout","DefaultConsumes","Consumes","flask","Flask","FlaskOfEndlessRage","food","Food","FoodSpicedWormBurger","defaultPotion","Potions","IndestructiblePotion","prepopPotion","PotionOfSpeed","SPEC_CONFIG","registerSpecConfig","Spec","SpecWarrior","cssClass","cssScheme","knownIssues","epStats","Stat","StatStrength","StatAgility","StatAttackPower","StatExpertise","StatMeleeHit","StatMeleeCrit","StatMeleeHaste","StatArmorPenetration","StatArmor","epPseudoStats","PseudoStat","PseudoStatMainHandDps","PseudoStatOffHandDps","epReferenceStat","displayStats","StatHealth","StatStamina","modifyDisplayStats","player","stats","Stats","getInFrontOfTarget","addStat","getTalents","weaponMastery","Mechanics.EXPERTISE_PER_QUARTER_PERCENT_REDUCTION","talents","defaults","gear","Presets.P3_FURY_PRESET_ALLIANCE","epWeights","fromMap","consumes","Presets.DefaultConsumes","Presets.FuryTalents","specOptions","Presets.DefaultOptions","raidBuffs","RaidBuffs","giftOfTheWild","TristateEffect","TristateEffectImproved","swiftRetribution","strengthOfEarthTotem","icyTalons","abominationsMight","leaderOfThePack","TristateEffectRegular","sanctifiedRetribution","bloodlust","devotionAura","stoneskinTotem","partyBuffs","PartyBuffs","heroicPresence","individualBuffs","IndividualBuffs","blessingOfKings","blessingOfMight","debuffs","Debuffs","bloodFrenzy","heartOfTheCrusader","mangle","sunderArmor","curseOfWeakness","faerieFire","ebonPlaguebringer","playerIconInputs","WarriorInputs.ShoutPicker","WarriorInputs.Recklessness","WarriorInputs.ShatteringThrow","includeBuffDebuffInputs","BuffDebuffInputs.SpellDamageDebuff","BuffDebuffInputs.SpellHitDebuff","excludeBuffDebuffInputs","otherInputs","inputs","WarriorInputs.StartingRage","WarriorInputs.StanceSnapshot","WarriorInputs.DisableExpertiseGemming","OtherInputs.TankAssignment","OtherInputs.InFrontOfTarget","encounterPicker","showExecuteProportion","presets","Presets.ArmsTalents","rotations","Presets.ROTATION_FURY","Presets.ROTATION_FURY_SUNDER","Presets.ROTATION_ARMS","Presets.ROTATION_ARMS_SUNDER","Presets.PRERAID_FURY_PRESET","Presets.P1_FURY_PRESET","Presets.P2_FURY_PRESET","Presets.P3_FURY_PRESET_HORDE","Presets.P4_FURY_PRESET_ALLIANCE","Presets.P4_FURY_PRESET_HORDE","Presets.PRERAID_ARMS_PRESET","Presets.P1_ARMS_PRESET","Presets.P2_ARMS_PRESET","Presets.P3_ARMS_2P_PRESET_ALLIANCE","Presets.P3_ARMS_4P_PRESET_ALLIANCE","Presets.P3_ARMS_2P_PRESET_HORDE","Presets.P3_ARMS_4P_PRESET_HORDE","Presets.P4_ARMS_PRESET_ALLIANCE","Presets.P4_ARMS_PRESET_HORDE","autoRotation","getTalentTree","rotation","raidSimPresets","spec","tooltip","defaultName","iconUrl","getSpecIcon","Class","ClassWarrior","defaultFactionRaces","Unknown","Race","RaceUnknown","RaceHuman","RaceOrc","defaultGear","WarriorSimUI","IndividualSimUI","constructor","parentElem","super","WarriorGemOptimizer","this","PhysicalDPSGemOptimizer","simUI","__publicField","updateGemPriority","ungemmedGear","passiveStats","useExpGems","getSpecOptions","calcExpTarget","expTarget"],"mappings":"6kBAYa,MAAAA,EAAeC,EAA+D,CAC1FC,UAAW,kBACXC,GAAIC,EAASC,YAAY,QAGbC,EAAkBL,EAA+D,CAC7FC,UAAW,qBACXC,GAAIC,EAASC,YAAY,SAGbE,EAAeC,EAA0D,CACrFN,UAAW,eACXO,MAAO,gBACPC,aAAc,iDAIFC,EAAiBC,EAA2D,CACxFV,UAAW,iBACXO,MAAO,kBACPC,aAAc,oHAKFG,EAA0BD,EAA2D,CACjGV,UAAW,0BACXO,MAAO,4BACPC,aAAc,wCAGFI,EAAcC,EAA0E,CACpGb,UAAW,QACXc,OAAQ,CACP,CAAEC,MAAO,SAAUC,MAAOC,EAAaC,kBACvC,CAAEC,SAAUjB,EAASC,YAAY,MAAOa,MAAOC,EAAaG,oBAC5D,CAAED,SAAUjB,EAASC,YAAY,KAAMa,MAAOC,EAAaI,+lnBCxBhDC,GAAsBC,EAA2B,kdAAiC,CAAEC,WAAY,IAEhGC,GAAiBF,EAA2B,UAAWG,EAAY,CAAEF,WAAY,IAEjFG,GAAiBJ,EAA2B,UAAWK,EAAY,CAAEJ,WAAY,IAEjFK,GAA6BN,EAA2B,iBAAkBO,EAAsB,CAAEN,WAAY,EAAGO,QAASC,EAAQC,WAElIC,GAA6BX,EAA2B,iBAAkBY,EAAsB,CAAEX,WAAY,EAAGO,QAASC,EAAQC,WAElIG,GAA0Bb,EAA2B,iBAAkBc,EAAmB,CAAEb,WAAY,EAAGO,QAASC,EAAQM,QAE5HC,GAA0BhB,EAA2B,iBAAkBiB,EAAmB,CAAEhB,WAAY,EAAGO,QAASC,EAAQM,QAE5HG,GAA0BlB,EAA2B,cAAemB,EAAoB,CAAElB,WAAY,EAAGO,QAASC,EAAQC,WAE1HU,GAAuBpB,EAA2B,cAAeqB,EAAiB,CAAEpB,WAAY,EAAGO,QAASC,EAAQM,QAEpHO,GAAsBtB,EAA2B,eAAgBuB,GAAiB,CAAEC,YAAa,CAAC,EAAE,KAEpGC,GAAiBzB,EAA2B,UAAW0B,GAAY,CAAEF,YAAa,CAAC,EAAE,KAErFG,GAAiB3B,EAA2B,UAAW4B,GAAY,CAAEJ,YAAa,CAAC,EAAE,KAErFK,GAA0B7B,EAA2B,cAAe8B,GAAoB,CAAEN,YAAa,CAAC,EAAE,GAAIhB,QAASC,EAAQC,WAE/HqB,GAAuB/B,EAA2B,cAAegC,GAAiB,CAAER,YAAa,CAAC,EAAE,GAAIhB,QAASC,EAAQM,QAEzHkB,GAA0BjC,EAA2B,cAAekC,GAAoB,CAAEV,YAAa,CAAC,EAAE,GAAIhB,QAASC,EAAQC,WAE/HyB,GAAuBnC,EAA2B,cAAeoC,GAAiB,CAAEZ,YAAa,CAAC,EAAE,GAAIhB,QAASC,EAAQM,QAGzHsB,GAAgBC,EAAkC,OAAQC,GAAS,CAAEtC,WAAY,IAEjFuC,GAAuBF,EAAkC,gBAAiBG,GAAe,CAAExC,WAAY,IAEvGyC,GAAgBJ,EAAkC,OAAQK,GAAS,CAAE1C,WAAY,IAEjF2C,GAAuBN,EAAkC,gBAAiBO,GAAe,CAAE5C,WAAY,IAIvG6C,GAAc,CAC1BC,KAAM,OACNC,KAAMC,EAAaC,OAAO,CACzBC,cAAe,2CACfC,OAAQC,EAAOH,OAAO,CACrBI,OAAQC,EAAkBC,eAC1BC,OAAQF,EAAkBG,oBAC1BC,OAAQJ,EAAkBK,iBAC1BC,OAAQC,EAAkBC,mBAC1BC,OAAQF,EAAkBG,eAC1BC,OAAQJ,EAAkBK,4BAKhBC,GAAc,CAC1BrB,KAAM,OACNC,KAAMC,EAAaC,OAAO,CACzBC,cAAe,0CACfC,OAAQC,EAAOH,OAAO,CACrBI,OAAQC,EAAkBc,iBAC1BZ,OAAQF,EAAkBe,oBAC1BX,OAAQJ,EAAkBK,iBAC1BC,OAAQC,EAAkBG,eAC1BD,OAAQF,EAAkBK,uBAC1BD,OAAQJ,EAAkBS,mBAKhBC,GAAiBC,EAAevB,OAAO,CACnDwB,aAAc,EACdC,iBAAiB,EACjBC,oBAAoB,EACpBC,yBAAyB,EACzBC,MAAOpF,EAAaI,yBAGRiF,GAAkBC,EAAS9B,OAAO,CAC9C+B,MAAOC,EAAMC,mBACbC,KAAMC,EAAKC,qBACXC,cAAeC,EAAQC,qBACvBC,aAAcF,EAAQG,gBC7EjBC,GAAcC,EAAmBC,EAAKC,YAAa,CACxDC,SAAU,iBACVC,UAAW,UAEXC,YAAa,GAIbC,QAAS,CACRC,EAAKC,aACLD,EAAKE,YACLF,EAAKG,gBACLH,EAAKI,cACLJ,EAAKK,aACLL,EAAKM,cACLN,EAAKO,eACLP,EAAKQ,qBACLR,EAAKS,WAENC,cAAe,CACdC,EAAWC,sBACXD,EAAWE,sBAGZC,gBAAiBd,EAAKG,gBAEtBY,aAAc,CACbf,EAAKgB,WACLhB,EAAKiB,YACLjB,EAAKC,aACLD,EAAKE,YACLF,EAAKG,gBACLH,EAAKI,cACLJ,EAAKK,aACLL,EAAKM,cACLN,EAAKO,eACLP,EAAKQ,qBACLR,EAAKS,WAENS,mBAAqBC,IAChB,IAAAC,EAAQ,IAAIC,EAKT,OAJFF,EAAOG,uBAEHF,EAAAA,EAAMG,QAAQvB,EAAKI,cAAmD,EAApCe,EAAOK,aAAaC,cAAoBC,IAE5E,CACNC,QAASP,EAAA,EAIXQ,SAAU,CAETC,KAAMC,GAAgCD,KAEtCE,UAAWV,EAAMW,QAAQ,CACxB,CAAChC,EAAKC,cAAe,KACrB,CAACD,EAAKE,aAAc,KACpB,CAACF,EAAKG,iBAAkB,EACxB,CAACH,EAAKI,eAAgB,KACtB,CAACJ,EAAKK,cAAe,IACrB,CAACL,EAAKM,eAAgB,KACtB,CAACN,EAAKO,gBAAiB,KACvB,CAACP,EAAKQ,sBAAuB,KAC7B,CAACR,EAAKS,WAAY,KAChB,CACF,CAACE,EAAWC,uBAAwB,KACpC,CAACD,EAAWE,sBAAuB,OAGpCoB,SAAUC,GAEVP,QAASQ,GAAoBvF,KAE7BwF,YAAaC,GAEbC,UAAWC,EAAUzF,OAAO,CAC3B0F,cAAeC,EAAeC,uBAC9BC,kBAAkB,EAClBC,qBAAsBH,EAAeC,uBACrCG,WAAW,EACXC,mBAAmB,EACnBC,gBAAiBN,EAAeO,sBAChCC,uBAAuB,EACvBC,WAAW,EACXC,aAAcV,EAAeC,uBAC7BU,eAAgBX,EAAeC,yBAEhCW,WAAYC,EAAWxG,OAAO,CAC7ByG,gBAAgB,IAEjBC,gBAAiBC,EAAgB3G,OAAO,CACvC4G,iBAAiB,EACjBC,gBAAiBlB,EAAeC,yBAEjCkB,QAASC,EAAQ/G,OAAO,CACvBgH,aAAa,EACbC,oBAAoB,EACpBC,QAAQ,EACRC,aAAa,EACbC,gBAAiBzB,EAAeO,sBAChCmB,WAAY1B,EAAeC,uBAC3B0B,mBAAmB,KAKrBC,iBAAkB,CACjBC,EACAC,EACAC,GAGDC,wBAAyB,CAExBC,EACAC,GAEDC,wBAAyB,GAGzBC,YAAa,CACZC,OAAQ,CACPC,EACAC,EACAC,EACAC,EACAC,IAGFC,gBAAiB,CAEhBC,uBAAuB,GAGxBC,QAAS,CAER3D,QAAS,CACR4D,GACApD,IAGDqD,UAAW,CACVC,GACAC,GACAC,GACAC,IAGD/D,KAAM,CACLgE,GACAC,GACAC,GACAjE,GACAkE,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,KAIFC,aAAezF,GAEI,GADCA,EAAO0F,gBAElBjB,GAA6BkB,SAASA,SAEtCpB,GAA6BoB,SAASA,SAI/CC,eAAgB,CACf,CACCC,KAAMtH,EAAKC,YACXsH,QAAS,eACTC,YAAa,OACbC,QAASC,EAAYC,EAAMC,aAAc,GAEzC3F,QAAS4D,GAAoB3I,KAC7BwF,YAAaC,GACbJ,SAAUC,GACVqF,oBAAqB,CACpB,CAAClN,EAAQmN,SAAUC,EAAKC,YACxB,CAACrN,EAAQC,UAAWmN,EAAKE,UACzB,CAACtN,EAAQM,OAAQ8M,EAAKG,SAEvBC,YAAa,CACZ,CAACxN,EAAQmN,SAAU,CAAC,EACpB,CAACnN,EAAQC,UAAW,CACnB,EAAG8L,GAAuBvE,KAC1B,EAAGwE,GAAuBxE,KAC1B,EAAG0E,GAAmC1E,KACtC,EAAG6E,GAAgC7E,MAEpC,CAACxH,EAAQM,OAAQ,CAChB,EAAGyL,GAAuBvE,KAC1B,EAAGwE,GAAuBxE,KAC1B,EAAG4E,GAAgC5E,KACnC,EAAG8E,GAA6B9E,QAInC,CACCmF,KAAMtH,EAAKC,YACXsH,QAAS,eACTC,YAAa,OACbC,QAASC,EAAYC,EAAMC,aAAc,GAEzC3F,QAASQ,GAAoBvF,KAC7BwF,YAAaC,GACbJ,SAAUC,GACVqF,oBAAqB,CACpB,CAAClN,EAAQmN,SAAUC,EAAKC,YACxB,CAACrN,EAAQC,UAAWmN,EAAKE,UACzB,CAACtN,EAAQM,OAAQ8M,EAAKG,SAEvBC,YAAa,CACZ,CAACxN,EAAQmN,SAAU,CAAC,EACpB,CAACnN,EAAQC,UAAW,CACnB,EAAGwL,GAAuBjE,KAC1B,EAAGkE,GAAuBlE,KAC1B,EAAGC,GAAgCD,KACnC,EAAGoE,GAAgCpE,MAEpC,CAACxH,EAAQM,OAAQ,CAChB,EAAGmL,GAAuBjE,KAC1B,EAAGkE,GAAuBlE,KAC1B,EAAGmE,GAA6BnE,KAChC,EAAGqE,GAA6BrE,WAO9B,MAAMiG,WAAqBC,EACjC,WAAAC,CAAYC,EAAyB9G,GAC9B+G,MAAAD,EAAY9G,EAAQ3B,IACL,IAAI2I,GAAoBC,KAC9C,EAGD,MAAMD,WAA4BE,EAGjC,WAAAL,CAAYM,GACXJ,MAAMI,GAAO,GAAM,GAAM,GAAO,GAHxBC,EAAAH,KAAA,UAIRA,KAAKjH,OAASmH,EAAMnH,MACrB,CAEA,iBAAAqH,CAAkBC,EAAoBC,GACrCN,KAAKO,YAAcP,KAAKjH,OAAOyH,iBAAiBnK,wBAC1CyJ,MAAAM,kBAAkBC,EAAcC,EACvC,CAEA,aAAAG,GACK,IAAAC,EAAYZ,MAAMW,gBACtB,MAAMpH,EAAgB2G,KAAKjH,OAAOK,aAAaC,cAOxC,QAN0BA,IAGnBqH,GAAgB,EAAhBrH,EAAoBC,GAG3BoH,CACR"}